<!doctype html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>SchwarmShell</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
<div class="startOverlay" id="startOverlay" role="dialog" aria-modal="true" aria-labelledby="startTitle">
  <div class="startModal" id="startModal">
    <h2 id="startTitle">Willkommen bei SchwarmShell</h2>
    <p id="startDescription">Wie mÃ¶chtest du starten?</p>
    <div class="startActions" id="startActions">
      <button class="btn" id="startNew">Neues Spiel</button>
      <button class="btn" id="startAutosave">Autosave laden</button>
      <button class="btn" id="startSavegame">Savegame laden</button>
    </div>
    <div class="savegameLoad" id="savegameLoad" hidden>
      <label for="savegamePassphrase">Passphrase</label>
      <input id="savegamePassphrase" type="text" autocomplete="off" spellcheck="false" placeholder="SS1...." />
      <div class="startActions">
        <button class="btn" id="savegameConfirm">Laden</button>
        <button class="btn" id="savegameCancel">ZurÃ¼ck</button>
      </div>
      <p class="small" id="savegameLoadError" aria-live="polite"></p>
    </div>
  </div>
</div>

<div class="cinematicIntroOverlay" id="cinematicIntroOverlay" role="dialog" aria-modal="true" aria-labelledby="cinematicIntroTitle" hidden>
  <div class="cinematicIntroPanel" id="cinematicIntroPanel">
    <p class="cinematicIntroKicker">SchwarmShell // Incident Protocol</p>
    <h2 id="cinematicIntroTitle">SYSTEM BREACH DETECTED</h2>
    <p class="cinematicIntroText" id="cinematicIntroText" aria-live="polite">â€”</p>
    <div class="startActions">
      <button class="btn" id="cinematicIntroContinue" type="button">Weiter</button>
      <button class="btn" id="cinematicIntroSkip" type="button">Ãœberspringen</button>
    </div>
  </div>
</div>

<div class="savegameOverlay" id="savegameOverlay" role="dialog" aria-modal="true" aria-labelledby="savegamePanelTitle" hidden>
  <div class="savegamePanel" id="savegamePanel">
    <h2 id="savegamePanelTitle">Savegame erstellen</h2>
    <p class="small">Hier ist deine aktuelle Passphrase. Damit kannst du spÃ¤ter exakt an dieser Stelle weiterspielen.</p>
    <label for="savegamePhraseOutput">Passphrase</label>
    <textarea id="savegamePhraseOutput" rows="3" readonly></textarea>
    <p class="small" id="savegamePanelHint" aria-live="polite"></p>
    <div class="startActions">
      <button class="btn" id="savegameCopy" type="button">In Zwischenablage kopieren</button>
      <button class="btn" id="savegameExport" type="button">Als .txt exportieren</button>
      <button class="btn" id="savegamePanelClose" type="button">SchlieÃŸen</button>
    </div>
  </div>
</div>

<div class="tutorialOverlay" id="tutorialOverlay" hidden></div>
<div class="tutorialBubble" id="tutorialBubble" hidden>
  <p id="tutorialText">â€”</p>
  <button class="btn" id="tutorialBtn">Weiter</button>
</div>

<header>
  <div class="brand">
    <h1 class="title">
      ğŸ® SchwarmShell
      <span class="pill" id="phasePill">Phase: â€”</span>
      <span class="warnInline titleHint" id="printStatus">âš ï¸ Wegen eines System-Glitches kÃ¶nnen aktuell keine Zeugnisse gedruckt werden.</span>
      <span class="titleHint" id="phaseStatusInline"></span>
    </h1>
  </div>
</header>

<main>
  <section class="card storyCard" id="storyPanel">
    <h2>Ort & Story</h2>
    <div class="content">
      <div class="locationImage"><img id="locImg" alt="Ort" /></div>
      <div class="locTitle">
        <strong id="locName">â€”</strong>
        <span class="tag" id="locTag">â€”</span>
      </div>
      <p class="desc" id="locDesc">â€”</p>
      <p class="inlineList" id="locNPCs"></p>
      <p class="small" id="locExtra">â€”</p>
      <div class="hr"></div>
      <p class="small">
        Quickstart: <span class="kbd">cat readme.txt</span> (Phase 1) Â· <span class="kbd">cd /arena</span> (Hub) Â· <span class="kbd">reset</span> (alles neu)
      </p>
      <div class="phaseCommands" id="phaseCommands">
        <div class="phaseCommandsHeader" id="phaseCommandsTitle">Wichtige Befehle (Phase â€”)</div>
        <ul class="phaseCommandsList" id="phaseCommandsList"></ul>
        <p class="small phaseCommandsHint">Mehr Details: <span class="kbd">man &lt;cmd&gt;</span></p>
        <div class="nextQuestHint" id="nextQuestHint">NÃ¤chstes Quest-Ziel wird geladenâ€¦</div>
      </div>
    </div>
  </section>

  <section class="card terminalCard" id="terminalPanel">
    <h2 class="terminalCardHeader">
      <span>Terminal</span>
      <button class="btn clippyBtn" id="clippyHelperBtn" type="button" aria-expanded="false" aria-controls="clippyTooltip">ğŸ“ Clippy Helfer</button>
      <span class="clippyUsage" id="clippyUsage" aria-live="polite">Nutzungen: 0</span>
      <span class="clippyStatus" id="clippyStatus" aria-live="polite">Status: bereit</span>
    </h2>
    <div class="content terminalWrap">
      <div class="terminal" id="term" aria-live="polite"></div>
      <div class="inputBar">
        <div class="prompt" id="prompt">player@SchwarmShell:~$</div>
        <div class="inputControls">
          <input id="cmd" type="text" autocomplete="off" spellcheck="false" placeholder='z.B. ls   oder   grep -n "wort" datei.txt   oder   find / -name "*.log"' />
          <button class="btn" id="run">Run</button>
          <button class="btn" id="reset">Reset</button>
          <button class="btn" id="savegame">Savegame</button>
        </div>
      </div>
      <div class="footerTips">
        Shortcuts: <span class="kbd">Enter</span> ausfÃ¼hren Â· <span class="kbd">â†‘</span>/<span class="kbd">â†“</span> Verlauf Â· <span class="kbd">Tab</span> Autocomplete (mini) Â·
        <span class="kbd">clear</span> Terminal leeren
      </div>
    </div>
  </section>

  <div class="clippyTooltip" id="clippyTooltip" hidden role="dialog" aria-live="polite" aria-label="Clippy Helfer"></div>

  <section class="card sidequestCard" id="sidequestCard" hidden>
    <h2>Winkelmann Sidequest</h2>
    <div class="content">
      <div class="rewards" id="sidequestPanel"></div>
    </div>
  </section>

  <section class="card mapCard" id="mapPanel">
    <h2>Ordnerkarte</h2>
    <div class="content" aria-label="Ordnerkarte">
      <div class="mapTools" role="group" aria-label="Kartenfilter und Legende">
        <label><input type="radio" name="mapFilter" value="active" /> Nur aktive Quest-Orte</label>
        <label><input type="radio" name="mapFilter" value="all" checked /> Alle Orte</label>
        <label><input type="radio" name="mapFilter" value="unvisited" /> Unentdeckt</label>
        <span class="mapLegendItem"><span class="mapLegendDot mapLegendCurrent">â—‰</span> Aktueller Ort</span>
        <span class="mapLegendItem"><span class="mapLegendDot mapLegendVisited">â—</span> Bereits besucht</span>
        <span class="mapLegendItem"><span class="mapLegendDot mapLegendQuest">â—†</span> Aktive Quest</span>
        <span class="mapLegendItem"><span class="mapLegendDot mapLegendUnvisited">â—‹</span> Unentdeckt</span>
      </div>
      <pre class="mapTree" id="mapTree">Lade Karteâ€¦</pre>
    </div>
  </section>

  <section class="card rewardsCard" id="rewardsPanel">
    <h2>Belohnungen</h2>
    <div class="content">
      <div class="rewards" id="rewards"></div>
      <p class="small" style="margin-top:10px;">
        Autosave ist an. Wennâ€™s weird wird: <span class="kbd">reset</span> (hard reboot).
      </p>
    </div>
  </section>

  <section class="card objectivesCard" id="objectivesPanel">
    <h2>Ziele (aktueller Run)</h2>
    <div class="content objectives" id="objectives"></div>
  </section>
</main>


<script src="js/data.js"></script>
<script src="js/core.js"></script>
<script src="js/state.js"></script>
<script src="js/fs.js"></script>
<script src="js/commands.js"></script>
<script src="js/main.js"></script>
</body>
</html>
